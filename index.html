<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Media Sharing Platform</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Azure Storage Blob SDK - Using jsdelivr (more reliable for browser privacy settings) -->
  <script src="https://cdn.jsdelivr.net/npm/@azure/storage-blob@10.5.0/browser/azure-storage-blob.min.js" crossorigin="anonymous"></script>
  <!-- Axios for HTTP requests -->
  <script src="https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js"></script>
</head>
<body>
  <!-- Configuration Panel -->
  <div id="configPanel" class="config-panel">
    <div class="config-header">
      <span>âš™ï¸ Settings</span>
      <button id="toggleConfig" class="icon-btn">âœ•</button>
    </div>
    <div class="config-content">
      <div class="config-item">
        <label>API Base URL</label>
      <input type="text" id="apiBase" placeholder="https://workfunction867-hbhuh4h4dpapcgay.uksouth-01.azurewebsites.net">
      </div>
      <div class="config-item">
        <label>API Key</label>
      <input type="password" id="apiKey" placeholder="Your API Key">
      </div>
      <button id="saveCfg" class="btn-primary">Save</button>
    </div>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="logo">
        <span class="logo-icon">ğŸ“¸</span>
        <span class="logo-text">My Gallery</span>
      </div>
      <div class="header-actions">
        <button id="openConfig" class="icon-btn">âš™ï¸</button>
        <button id="uploadBtnHeader" class="btn-upload">+ Upload</button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Upload Section -->
    <section class="upload-section">
      <div class="upload-card">
        <input type="file" id="fileInput" multiple accept="image/*,video/*,.pdf,.doc,.docx">
        <div id="dropzone" class="dropzone">
          <div class="dropzone-icon">ğŸ“</div>
          <div class="dropzone-text">
            <p class="dropzone-title">Drag files here to upload</p>
            <p class="dropzone-subtitle">or click to select files</p>
          </div>
          <button class="btn-primary" type="button">Select Files</button>
        </div>
        <div id="uploadPreview" class="upload-preview"></div>
    <div id="progressList" class="progress-list"></div>
      </div>
  </section>

    <!-- Toolbar -->
    <section class="toolbar-section">
      <div class="toolbar">
        <div class="toolbar-left">
          <div class="search-box">
            <span class="search-icon">ğŸ”</span>
            <input type="text" id="searchInput" placeholder="Search your photos and videos...">
            <button id="clearSearch" class="clear-btn" style="display: none;">âœ•</button>
          </div>
          <select id="filterSelect" class="filter-select">
            <option value="all">All</option>
            <option value="image">Images</option>
            <option value="video">Videos</option>
            <option value="document">Documents</option>
          </select>
        </div>
        <div class="toolbar-right">
          <div class="view-toggle">
            <button id="gridViewBtn" class="view-btn active" data-view="grid">âŠ</button>
            <button id="listViewBtn" class="view-btn" data-view="list">â˜°</button>
          </div>
          <select id="sortSelect" class="sort-select">
            <option value="created_at_desc">Newest First</option>
            <option value="created_at_asc">Oldest First</option>
            <option value="name_asc">Name A-Z</option>
            <option value="name_desc">Name Z-A</option>
            <option value="size_desc">Size Largeâ†’Small</option>
            <option value="size_asc">Size Smallâ†’Large</option>
        </select>
          <button id="batchModeBtn" class="btn-secondary">Batch Mode</button>
          <button id="refreshBtn" class="icon-btn">ğŸ”„</button>
        </div>
      </div>
      <div id="batchToolbar" class="batch-toolbar" style="display: none;">
        <span id="selectedCount">Selected 0 items</span>
        <div class="batch-actions">
          <button id="selectAllBtn" class="btn-link">Select All</button>
          <button id="batchDeleteBtn" class="btn-danger">Delete Selected</button>
          <button id="cancelBatchBtn" class="btn-link">Cancel</button>
        </div>
      </div>
    </section>

    <!-- Content Grid -->
    <section class="content-section">
      <div id="assets" class="assets-grid"></div>
      <div id="emptyState" class="empty-state" style="display: none;">
        <div class="empty-icon">ğŸ“­</div>
        <p class="empty-text">No content yet, upload your first photo!</p>
      </div>
    </section>
  </main>

  <!-- Image Preview Modal -->
  <div id="imageModal" class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-content image-modal-content">
      <button class="modal-close">âœ•</button>
      <div class="modal-image-container">
        <img id="previewImage" src="" alt="Preview">
        <button class="modal-nav prev" id="prevImage">â€¹</button>
        <button class="modal-nav next" id="nextImage">â€º</button>
      </div>
      <div class="modal-info">
        <div class="modal-header">
          <h3 id="previewTitle"></h3>
          <div class="modal-actions">
            <button class="btn-icon" id="favoriteBtn" title="Favorite">â¤ï¸</button>
            <button class="btn-icon" id="shareBtn" title="Share">ğŸ”—</button>
            <button class="btn-icon" id="downloadBtn" title="Download">â¬‡ï¸</button>
            <button class="btn-icon" id="editBtn" title="Edit">âœï¸</button>
            <button class="btn-icon danger" id="deleteBtn" title="Delete">ğŸ—‘ï¸</button>
          </div>
        </div>
        <div class="modal-details">
          <div class="detail-item">
            <span class="detail-label">File Size</span>
            <span id="previewSize" class="detail-value"></span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Upload Time</span>
            <span id="previewDate" class="detail-value"></span>
          </div>
          <div class="detail-item">
            <span class="detail-label">File Type</span>
            <span id="previewType" class="detail-value"></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Modal -->
  <div id="editModal" class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-content edit-modal-content">
      <div class="modal-header">
        <h3>Edit Information</h3>
        <button class="modal-close">âœ•</button>
      </div>
      <div class="edit-form">
        <div class="form-group">
          <label>File Name</label>
          <input type="text" id="editFileName" class="form-input">
        </div>
        <div class="form-group">
          <label>Description</label>
          <textarea id="editDescription" class="form-textarea" placeholder="Add description..."></textarea>
        </div>
        <div class="form-group">
          <label>Tags</label>
          <input type="text" id="editTags" class="form-input" placeholder="Separate multiple tags with commas">
        </div>
        <div class="form-actions">
          <button class="btn-secondary" id="cancelEdit">Cancel</button>
          <button class="btn-primary" id="saveEdit">Save</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast"></div>

  <script src="app.js"></script>
</body>
</html>

